<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ëµ∞Ëø∑ÂÆ´</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: 'Segoe UI', Tahoma, sans-serif;
            padding: 20px;
        }

        h1 { color: #fff; font-size: 2.5rem; margin-bottom: 15px; text-shadow: 0 0 20px rgba(255,255,255,0.3); }

        .info-bar {
            display: flex;
            gap: 30px;
            margin-bottom: 15px;
        }

        .info-item {
            background: rgba(255,255,255,0.2);
            padding: 10px 20px;
            border-radius: 20px;
            color: #fff;
            font-size: 1.1rem;
        }

        .game-container {
            width: 350px;
            height: 350px;
            background: #0a0a0a;
            border-radius: 15px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }

        .: absolute;
           player {
            position width: 20px;
            height: 20px;
            background: #2ecc71;
            border-radius: 50%;
            transition: all 0.1s ease;
        }

        .wall {
            position: absolute;
            background: #e74c3c;
        }

        .path {
            position: absolute;
            background: #ecf0f1;
        }

        .exit {
            position: absolute;
            background: #f1c40f;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .controls {
            margin-top: 20px;
            display: grid;
            grid-template-columns: repeat(3, 50px);
            gap: 10px;
        }

        .key {
            width: 50px;
            height: 50px;
            background: rgba(255,255,255,0.2);
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 10px;
            color: white;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .key:active { background: rgba(255,255,255,0.4); }

        .message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.9);
            color: white;
            padding: 20px 40px;
            border-radius: 15px;
            font-size: 1.5rem;
            display: none;
            z-index: 10;
            text-align: center;
        }

        .btn {
            margin-top: 15px;
            padding: 12px 30px;
            font-size: 1rem;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
        }

        .hint { color: rgba(255,255,255,0.7); margin-top: 15px; font-size: 0.9rem; }
    </style>
</head>
<body>
    <h1>üß± Ëµ∞Ëø∑ÂÆ´</h1>

    <div class="info-bar">
        <div class="info-item">ÂÖ≥Âç°: <span id="level">1</span></div>
        <div class="info-item">Ê≠•Êï∞: <span id="steps">0</span></div>
    </div>

    <div class="game-container" id="gameContainer">
        <div class="message" id="message"></div>
    </div>

    <div class="controls">
        <div></div>
        <div class="key" onclick="move(0,-1)">‚Üë</div>
        <div></div>
        <div class="key" onclick="move(-1,0)">‚Üê</div>
        <div class="key" onclick="move(0,1)">‚Üì</div>
        <div class="key" onclick="move(1,0)">‚Üí</div>
    </div>

    <p class="hint">‰πüÂèØ‰ª•Áî®ÊñπÂêëÈîÆÊéßÂà∂</p>

    <button class="btn" onclick="initGame()">üîÑ ÈáçÊñ∞ÂºÄÂßã</button>

    <script>
        const CELL_SIZE = 35;
        const WIDTH = 350;
        const HEIGHT = 350;

        const levels = [
            // 1: ÁÆÄÂçï
            {
                map: [
                    [1,1,1,1,1,1,1,1,1,1],
                    [1,0,0,0,0,0,0,0,0,1],
                    [1,0,1,1,1,1,1,1,0,1],
                    [1,0,0,0,0,0,0,0,0,1],
                    [1,1,1,1,1,0,1,1,1,1],
                    [1,0,0,0,0,0,0,0,0,1],
                    [1,0,1,1,1,1,1,1,0,1],
                    [1,0,0,0,0,0,0,0,0,1],
                    [1,1,1,1,1,1,1,1,0,1],
                    [1,1,1,1,1,1,1,1,2,1]
                ],
                start: {x:1,y:1}
            },
            // 2: ‰∏≠Á≠â
            {
                map: [
                    [1,1,1,1,1,1,1,1,1,1],
                    [1,0,0,1,0,0,0,1,0,1],
                    [1,1,0,1,0,1,0,1,0,1],
                    [1,0,0,0,0,1,0,0,0,1],
                    [1,0,1,1,1,1,1,1,0,1],
                    [1,0,0,0,0,0,0,0,0,1],
                    [1,1,1,1,1,0,1,1,1,1],
                    [1,0,0,0,0,0,0,0,0,1],
                    [1,0,1,1,1,1,1,1,0,1],
                    [1,2,1,1,1,1,1,1,0,1]
                ],
                start: {x:1,y:1}
            },
            // 3: Âõ∞Èöæ
            {
                map: [
                    [1,1,1,1,1,1,1,1,1,1],
                    [1,0,0,0,1,0,0,0,0,1],
                    [1,0,1,0,1,0,1,1,0,1],
                    [1,0,1,0,0,0,0,1,0,1],
                    [1,0,1,1,1,1,0,1,0,1],
                    [1,0,0,0,0,1,0,0,0,1],
                    [1,1,1,1,0,1,1,1,0,1],
                    [1,0,0,0,0,0,0,1,0,1],
                    [1,0,1,1,1,1,0,0,0,1],
                    [1,2,1,1,1,1,1,1,0,1]
                ],
                start: {x:1,y:1}
            }
        ];

        let currentLevel = 0;
        let player = {x:0,y:0};
        let steps = 0;
        let gameContainer;

        function initGame() {
            currentLevel = 0;
            steps = 0;
            document.getElementById('level').textContent = currentLevel + 1;
            document.getElementById('steps').textContent = '0';
            document.getElementById('message').style.display = 'none';

            loadLevel();
        }

        function loadLevel() {
            const level = levels[currentLevel];
            const map = level.map;

            gameContainer = document.getElementById('gameContainer');
            gameContainer.innerHTML = '<div class="message" id="message"></div>';

            player = {...level.start};
            steps = 0;
            document.getElementById('steps').textContent = '0';

            // ÁªòÂà∂Âú∞Âõæ
            for (let y = 0; y < map.length; y++) {
                for (let x = 0; x < map[y].length; x++) {
                    const cell = document.createElement('div');
                    const type = map[y][x];
                    cell.style.position = 'absolute';
                    cell.style.left = x * CELL_SIZE + 'px';
                    cell.style.top = y * CELL_SIZE + 'px';
                    cell.style.width = CELL_SIZE + 'px';
                    cell.style.height = CELL_SIZE + 'px';

                    if (type === 1) {
                        cell.className = 'wall';
                    } else if (type === 0) {
                        cell.className = 'path';
                    } else if (type === 2) {
                        cell.className = 'exit';
                        cell.textContent = 'üö™';
                    }

                    gameContainer.appendChild(cell);
                }
            }

            // Áé©ÂÆ∂
            const playerEl = document.createElement('div');
            playerEl.className = 'player';
            playerEl.id = 'player';
            gameContainer.appendChild(playerEl);
            updatePlayerPos();
        }

        function updatePlayerPos() {
            const playerEl = document.getElementById('player');
            if (playerEl) {
                playerEl.style.left = player.x * CELL_SIZE + 7 + 'px';
                playerEl.style.top = player.y * CELL_SIZE + 7 + 'px';
            }
        }

        function move(dx, dy) {
            const level = levels[currentLevel];
            const newX = player.x + dx;
            const newY = player.y + dy;

            if (newX < 0 || newX >= 10 || newY < 0 || newY >= 10) return;

            const cell = level.map[newY][newX];
            if (cell === 1) return;

            player.x = newX;
            player.y = newY;
            steps++;
            document.getElementById('steps').textContent = steps;

            updatePlayerPos();

            if (cell === 2) {
                // ËøáÂÖ≥
                if (currentLevel < levels.length - 1) {
                    currentLevel++;
                    document.getElementById('level').textContent = currentLevel + 1;
                    loadLevel();
                } else {
                    const msg = document.getElementById('message');
                    msg.textContent = 'üéâ ÊÅ≠ÂñúÈÄöÂÖ≥!';
                    msg.style.display = 'block';
                }
            }
        }

        document.addEventListener('keydown', (e) => {
            switch(e.key) {
                case 'ArrowUp': move(0,-1); break;
                case 'ArrowDown': move(0,1); break;
                case 'ArrowLeft': move(-1,0); break;
                case 'ArrowRight': move(1,0); break;
            }
        });

        initGame();
    </script>
</body>
</html>
